<div class="p-fluid pt-4 flex justify-content-center">
  <div class="w-full md:w-10 lg:w-8 surface-card shadow-2 border-round p-4">
    <!-- Form -->
    <form [formGroup]="customerForm" (ngSubmit)="onSubmit()" autocomplete="off">
      <div class="formgrid grid ml-3">
        <div class="field col-12 md:col-3">
          <label for="name">Name <span class="required">*</span></label>
          <input
            pInputText
            id="name"
            formControlName="name"
            type="text"
            class="w-full"
            placeholder="Enter name"
          />
        </div>
        <div class="field col-12 md:col-3">
          <label for="phone">Phone <span class="required">*</span></label>
          <input
            pInputText
            id="phone"
            formControlName="phone"
            type="text"
            class="w-full"
            placeholder="Enter phone"
          />
        </div>
        <div class="field col-12 md:col-3">
          <label for="email">Email</label>
          <input
            pInputText
            id="email"
            formControlName="email"
            type="text"
            class="w-full"
            placeholder="Enter email"
          />
        </div>
        <div class="field col-12 md:col-3 flex align-items-end">
          <button
            pButton
            type="submit"
            label="{{ editIndex >= 0 ? 'Update' : 'Add' }}"
          ></button>
        </div>
      </div>
    </form>

    <!-- Table -->
    @if (customers.length) {
    <p-table
      [value]="customers"
      class="mt-4 shadow-1"
      styleClass="p-datatable-sm"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 25%">Name</th>
          <th style="width: 25%">Phone</th>
          <th style="width: 30%">Email</th>
          <th style="width: 20%">Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-customer let-index="rowIndex">
        <tr>
          <td>{{ customer.name }}</td>
          <td>{{ customer.phone }}</td>
          <td>{{ customer.email }}</td>
          <td>
            <button
              pButton
              icon="pi pi-pencil"
              (click)="editCustomer(customer, index)"
              class="p-button-text p-button-sm"
              label="Edit"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
    }
  </div>
</div>
